
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ProInvestment - Dashboard</title>
  <script src="https://unpkg.com/lucide@latest"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js"></script>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      background-color: #f4f6fa;
    }
    .sidebar {
      position: fixed;
      height: 100vh;
      width: 260px;
      background-color: #003ecf;
      padding-top: 20px;
      color: white;
    }
    .sidebar .user-info {
      text-align: center;
      padding: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }
    .user-info img {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin-bottom: 10px;
    }
    .sidebar a {
      padding: 15px 25px;
      display: flex;
      align-items: center;
      color: white;
      text-decoration: none;
      transition: background 0.3s;
    }
    .sidebar a:hover {
      background-color: #0057ff;
    }
    .sidebar a svg {
      margin-right: 10px;
    }
    .main {
      margin-left: 260px;
      padding: 20px;
      flex: 1;
    }
    .top-bar {
      background: white;
      padding: 10px 20px;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .top-bar img {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      margin-left: 10px;
    }
    .cards {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }
    .card {
      flex: 1;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="user-info" id="user-info">
      <img src="https://via.placeholder.com/60" id="user-pic" alt="User Picture">
      <div id="user-name">User Name</div>
      <div id="user-email" style="font-size: 12px;">user@example.com</div>
    </div>
    <a href="#"><i data-lucide="layout-dashboard"></i> Dashboard</a>
    <a href="#"><i data-lucide="wallet"></i> Investments</a>
    <a href="#"><i data-lucide="banknote"></i> Withdrawals</a>
    <a href="#"><i data-lucide="settings"></i> Settings</a>
    <a href="#"><i data-lucide="log-out"></i> Logout</a>
  </div>

  <div class="main">
    <div class="top-bar">
      <div>Welcome back, <span id="top-username">User</span></div>
      <img src="https://via.placeholder.com/35" id="top-avatar" alt="User">
    </div>

    <div class="cards">
      <div class="card">
        <h3>Current Balance</h3>
        <p id="balance-amount">$0.00</p>
      </div>
      <div class="card">
        <h3>Active Investments</h3>
        <p id="active-investments">0</p>
      </div>
      <div class="card">
        <h3>Recent Deposit</h3>
        <p id="recent-deposit">$0.00</p>
      </div>
    </div>
  </div>

  <script>
    lucide.createIcons();

    // Firebase placeholder config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_PROJECT_ID.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "APP_ID"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    auth.onAuthStateChanged(user => {
      if (user) {
        document.getElementById("user-name").innerText = user.displayName || "Investor";
        document.getElementById("user-email").innerText = user.email;
        document.getElementById("top-username").innerText = user.displayName || "Investor";
        document.getElementById("user-pic").src = user.photoURL || "https://via.placeholder.com/60";
        document.getElementById("top-avatar").src = user.photoURL || "https://via.placeholder.com/35";

        const userDoc = db.collection("users").doc(user.uid);
        userDoc.onSnapshot(doc => {
          if (doc.exists) {
            const data = doc.data();
            document.getElementById("balance-amount").innerText = `$${data.balance.toFixed(2)}`;
            document.getElementById("active-investments").innerText = data.activeInvestments || 0;
            document.getElementById("recent-deposit").innerText = `$${data.recentDeposit.toFixed(2)}`;
          }
        });
      }
    });
  </script>
</body>
</html>
